{"version":3,"sources":["webpack:///webpack/bootstrap a13bdb0c1ffa66ebe76b","webpack:///./node_modules/iterators-polyfill/polyfill.min.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/index.es6","webpack:///./src/bigcommerce_plugin.es6","webpack:///./src/form_helper.es6"],"names":["require","d","w","_initPlugin","AF","_plugin","BigCommercePlugin","nzKey","AddressFinderConfig","key_nz","key","key_au","auKey","nzWidgetOptions","widgetOptions","auWidgetOptions","debug","s","createElement","src","async","onload","body","appendChild","document","window","widgetConfig","version","layoutConfigurations","label","layoutIdentifier","countryIdentifier","searchIdentifier","nz","countryValue","elements","address1","suburb","city","region","postcode","regionMappings","au","address2","state","stateMappings","formHelpers","identifyLayout","monitorMutations","i","length","layoutConfig","identifyingElement","getElementById","log","initialiseFormHelper","searchElement","formHelperConfig","countryElement","address_line_1_and_2","address_line_1","address_line_2","locality_name","state_territory","helper","FormHelper","push","activeFormHelpers","formHelper","areAllElementsStillInTheDOM","destroy","identifyAdditionalLayouts","layoutsToInitialise","identifierToSearchFor","anyFormHelpersWithLayoutIdentifier","j","activeFormHelper","mutations","allMutationsAreFromAddressFinder","target","classList","contains","_mutationTimeout","clearTimeout","setTimeout","resetAndReloadFormHelpers","bind","MutationObserver","observer","mutationHandler","observe","childList","subtree","addEventListener","console","info","message","widgets","subscriptions","_bindToForm","widgetCountryCode","disable","removeEventListener","boundCountryChangedListener","_log","countryCodes","countryCode","elementName","hasOwnProperty","element","_countryChanged","nzWidget","AddressFinder","Widget","on","_nzAddressSelected","auWidget","_auAddressSelected","enable","event","preserveValues","value","_setActiveCountry","_clearElementValues","_setElementValue","fullAddress","metaData","selected","NZSelectedAddress","translatedRegionValue","combined","filter","a","join","translatedStateValue","createEvent","initEvent","dispatchEvent","options","errorMessage","warn"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;AC7DA,0DAAY,aAAa,gBAAgB,8EAA8E,gBAAgB,8EAA8E,gBAAgB,4FAA4F,uDAAuD,gBAAgB,2HAA2H,0CAA0C,aAAa,mDAAmD,sEAAsE,gBAAgB,8EAA8E,gBAAgB,4FAA4F,uDAAuD,gBAAgB,2HAA2H,0CAA0C,aAAa,mDAAmD,sEAAsE,aAAa,IAAI,OAAO,SAAS,IAAI,SAAS,SAAS,UAAU,iBAAiB,gBAAgB,sDAAsD,mCAAmC,+CAA+C,OAAO,sJAAsJ,uBAAuB,GAAG,iBAAiB,gBAAgB,UAAU,+BAA+B,SAAS,8CAA8C,iCAAiC,GAAG,kBAAkB,gBAAgB,UAAU,+BAA+B,SAAS,8CAA8C,gCAAgC,GAAG,IAAI,wDAAwD,0FAA0F,sCAAsC,2BAA2B,yCAAyC,+BAA+B,sCAAsC,yBAAyB,0DAA0D,uGAAuG,2BAA2B,0DAA0D,mGAAmG,yCAAyC,2BAA2B,4CAA4C,+BAA+B,yCAAyC,yBAAyB,8DAA8D;;;;;;;;ACAh6F;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,mBAAAA,CAAQ,CAAR;;AAEA,CAAC,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACd,MAAIC,cAAc,SAAdA,WAAc,GAAU;AAC1BD,MAAEE,EAAF,GAAOF,EAAEE,EAAF,IAAQ,EAAf;AACAF,MAAEE,EAAF,CAAKC,OAAL,GAAe,IAAID,GAAGE,iBAAP,CAAyB;AACtCC,aAAOL,EAAEM,mBAAF,CAAsBC,MAAtB,IAAgCP,EAAEM,mBAAF,CAAsBE,GAAtD,IAA6DR,EAAEM,mBAAF,CAAsBG,MADpD;AAEtCC,aAAOV,EAAEM,mBAAF,CAAsBG,MAAtB,IAAgCT,EAAEM,mBAAF,CAAsBE,GAAtD,IAA6DR,EAAEM,mBAAF,CAAsBC,MAFpD;AAGtCI,uBAAiBX,EAAEM,mBAAF,CAAsBK,eAAtB,IAAyCX,EAAEM,mBAAF,CAAsBM,aAA/D,IAAgF,EAH3D;AAItCC,uBAAiBb,EAAEM,mBAAF,CAAsBO,eAAtB,IAAyCb,EAAEM,mBAAF,CAAsBM,aAA/D,IAAgF,EAJ3D;AAKtCE,aAAOd,EAAEM,mBAAF,CAAsBQ,KAAtB,IAA+B;AALA,KAAzB,CAAf;AAOD,GATD;;AAWA,MAAIC,IAAIhB,EAAEiB,aAAF,CAAgB,QAAhB,CAAR;AACAD,IAAEE,GAAF,GAAQ,kDAAR;AACAF,IAAEG,KAAF,GAAU,CAAV;AACAH,IAAEI,MAAF,GAAWlB,WAAX;AACAF,IAAEqB,IAAF,CAAOC,WAAP,CAAmBN,CAAnB;AACD,CAjBD,EAiBGO,QAjBH,EAiBaC,MAjBb,E;;;;;;;;;;;;;ACNA,mBAAAzB,CAAQ,CAAR;AACA,CAAC,UAASC,CAAT,EAAYC,CAAZ,EAAe;AACdA,IAAEE,EAAF,GAAOF,EAAEE,EAAF,IAAQ,EAAf;;AAEAF,IAAEE,EAAF,CAAKE,iBAAL;AACE,oBAAYoB,YAAZ,EAAyB;AAAA;;AACvB,WAAKC,OAAL,GAAe,QAAf;AACA,WAAKD,YAAL,GAAoBA,YAApB;AACA,WAAKE,oBAAL,GAA4B,CAC1B;AACEC,eAAO,4CADT;AAEEC,0BAAkB,uBAFpB;AAGEC,2BAAmB,kBAHrB;AAIEC,0BAAkB,mBAJpB;AAKEC,YAAI;AACFC,wBAAc,WADZ;AAEFC,oBAAU;AACRC,sBAAU,mBADF;AAERC,oBAAQ,mBAFA;AAGRC,kBAAM,WAHE;AAIRC,oBAAQ,eAJA;AAKRC,sBAAU;AALF,WAFR;AASFC,0BAAgB;AATd,SALN;AAgBEC,YAAI;AACFR,wBAAc,WADZ;AAEFC,oBAAU;AACRC,sBAAU,mBADF;AAERO,sBAAU,mBAFF;AAGRN,oBAAQ,WAHA;AAIRO,mBAAO,mBAJC;AAKRJ,sBAAU;AALF,WAFR;AASFK,yBAAe;AACb,mBAAO,YADM;AAEb,mBAAO,YAFM;AAGb,kBAAO,WAHM;AAIb,mBAAO,YAJM;AAKb,kBAAO,WALM;AAMb,mBAAO,YANM;AAOb,mBAAO,YAPM;AAQb,kBAAO;AARM;AATb;AAhBN,OAD0B,EAsC1B;AACEhB,eAAO,qCADT;AAEEC,0BAAkB,4BAFpB;AAGEC,2BAAmB,cAHrB;AAIEC,0BAAkB,aAJpB;AAKEC,YAAI;AACFC,wBAAc,aADZ;AAEFC,oBAAU;AACRC,sBAAU,aADF;AAERC,oBAAQ,aAFA;AAGRC,kBAAM,cAHE;AAIRC,oBAAQ,cAJA;AAKRC,sBAAU;AALF,WAFR;AASFC,0BAAgB;AATd,SALN;AAgBEC,YAAI;AACFR,wBAAc,WADZ;AAEFC,oBAAU;AACRC,sBAAU,aADF;AAERO,sBAAU,aAFF;AAGRN,oBAAQ,cAHA;AAIRO,mBAAO,cAJC;AAKRJ,sBAAU;AALF,WAFR;AASFK,yBAAe;AACb,mBAAO,8BADM;AAEb,mBAAO,iBAFM;AAGb,kBAAO,oBAHM;AAIb,mBAAO,YAJM;AAKb,kBAAO,iBALM;AAMb,mBAAO,UANM;AAOb,mBAAO,UAPM;AAQb,kBAAO;AARM;AATb;AAhBN,OAtC0B,EA2E1B;AACEhB,eAAO,sCADT;AAEEC,0BAAkB,6BAFpB;AAGEC,2BAAmB,cAHrB;AAIEC,0BAAkB,cAJpB;AAKEC,YAAI;AACFC,wBAAc,aADZ;AAEFC,oBAAU;AACRC,sBAAU,cADF;AAERC,oBAAQ,cAFA;AAGRC,kBAAM,cAHE;AAIRC,oBAAQ,cAJA;AAKRC,sBAAU;AALF,WAFR;AASFC,0BAAgB;AATd,SALN;AAgBEC,YAAI;AACFR,wBAAc,WADZ;AAEFC,oBAAU;AACRC,sBAAU,cADF;AAERO,sBAAU,cAFF;AAGRN,oBAAQ,cAHA;AAIRO,mBAAO,cAJC;AAKRJ,sBAAU;AALF,WAFR;AASFK,yBAAe;AACb,mBAAO,8BADM;AAEb,mBAAO,iBAFM;AAGb,kBAAO,oBAHM;AAIb,mBAAO,YAJM;AAKb,kBAAO,iBALM;AAMb,mBAAO,UANM;AAOb,mBAAO,UAPM;AAQb,kBAAO;AARM;AATb;AAhBN,OA3E0B,EAgH1B;AACEhB,eAAO,gBADT;AAEEC,0BAAkB,mBAFpB;AAGEC,2BAAmB,cAHrB;AAIEC,0BAAkB,aAJpB;AAKEC,YAAI;AACFC,wBAAc,aADZ;AAEFC,oBAAU;AACRC,sBAAU,aADF;AAERC,oBAAQ,aAFA;AAGRC,kBAAM,cAHE;AAIRC,oBAAQ,cAJA;AAKRC,sBAAU;AALF,WAFR;AASFC,0BAAgB;AATd,SALN;AAgBEC,YAAI;AACFR,wBAAc,WADZ;AAEFC,oBAAU;AACRC,sBAAU,aADF;AAERO,sBAAU,aAFF;AAGRN,oBAAQ,cAHA;AAIRO,mBAAO,cAJC;AAKRJ,sBAAU;AALF,WAFR;AASFK,yBAAe;AACb,mBAAO,8BADM;AAEb,mBAAO,iBAFM;AAGb,kBAAO,oBAHM;AAIb,mBAAO,YAJM;AAKb,kBAAO,iBALM;AAMb,mBAAO,UANM;AAOb,mBAAO,UAPM;AAQb,kBAAO;AARM;AATb;AAhBN,OAhH0B,CAA5B;AAuJA,WAAKC,WAAL,GAAmB,EAAnB;;AAEA,WAAKC,cAAL;AACA,WAAKC,gBAAL;AACD;;AA/JH;AAAA;AAAA,uCAiKkB;AACd,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,KAAKrB,oBAAL,CAA0BsB,MAA9C,EAAsDD,GAAtD,EAA2D;AACzD,cAAIE,eAAe,KAAKvB,oBAAL,CAA0BqB,CAA1B,CAAnB;AACA,cAAIG,qBAAqBnD,EAAEoD,cAAF,CAAiBF,aAAarB,gBAA9B,CAAzB;;AAEA,cAAIsB,kBAAJ,EAAwB;AACtB,iBAAKE,GAAL,+BAAqCH,aAAatB,KAAlD;AACA,iBAAK0B,oBAAL,CAA0BJ,YAA1B;AACD;AACF;AACF;AA3KH;AAAA;AAAA,2CA6KuBA,YA7KvB,EA6KoC;AAChC,YAAIK,gBAAgBvD,EAAEoD,cAAF,CAAiBF,aAAanB,gBAA9B,CAApB;;AAEA,YAAIwB,aAAJ,EAAmB;AACjB,cAAIC,mBAAmB;AACrBC,4BAAgBzD,EAAEoD,cAAF,CAAiBF,aAAapB,iBAA9B,CADK;AAErBF,mBAAOsB,aAAatB,KAFC;AAGrBC,8BAAkBqB,aAAarB,gBAHV;AAIrBG,gBAAI;AACFC,4BAAciB,aAAalB,EAAb,CAAgBC,YAD5B;AAEFsB,6BAAevD,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBC,QAA1C,CAFb;AAGFD,wBAAU;AACRwB,sCAAsB1D,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBC,QAA1C,CADd;AAERwB,gCAAgB,IAFR;AAGRC,gCAAgB,IAHR;AAIRxB,wBAAQpC,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBE,MAA1C,CAJA;AAKRC,sBAAMrC,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBG,IAA1C,CALE;AAMRC,wBAAQtC,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBI,MAA1C,CANA;AAORC,0BAAUvC,EAAEoD,cAAF,CAAiBF,aAAalB,EAAb,CAAgBE,QAAhB,CAAyBK,QAA1C;AAPF,eAHR;AAYFC,8BAAgB;AAZd,aAJiB;AAkBrBC,gBAAI;AACFR,4BAAciB,aAAaT,EAAb,CAAgBR,YAD5B;AAEFsB,6BAAevD,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBC,QAA1C,CAFb;AAGFD,wBAAU;AACRwB,sCAAsB,IADd;AAERC,gCAAgB3D,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBC,QAA1C,CAFR;AAGRyB,gCAAgB5D,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBQ,QAA1C,CAHR;AAIRmB,+BAAe7D,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBE,MAA1C,CAJP;AAKRC,sBAAM,IALE;AAMRyB,iCAAiB9D,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBS,KAA1C,CANT;AAORJ,0BAAUvC,EAAEoD,cAAF,CAAiBF,aAAaT,EAAb,CAAgBP,QAAhB,CAAyBK,QAA1C;AAPF,eAHR;AAYFK,6BAAeM,aAAaT,EAAb,CAAgBG;AAZ7B;AAlBiB,WAAvB;;AAkCA,cAAImB,SAAS,IAAI5D,GAAG6D,UAAP,CAAkB,KAAKvC,YAAvB,EAAqC+B,gBAArC,CAAb;AACA,eAAKX,WAAL,CAAiBoB,IAAjB,CAAsBF,MAAtB;AACD;AACF;AAtNH;AAAA;AAAA,kDAwN6B;AACzB,YAAIG,oBAAoB,EAAxB;;AAEA,aAAK,IAAIlB,IAAI,CAAb,EAAgBA,IAAI,KAAKH,WAAL,CAAiBI,MAArC,EAA6CD,GAA7C,EAAkD;AAChD,cAAMmB,aAAa,KAAKtB,WAAL,CAAiBG,CAAjB,CAAnB;;AAEA;AACA,cAAImB,WAAWC,2BAAX,EAAJ,EAA8C;AAC5C,iBAAKf,GAAL,iBAAuBc,WAAWvC,KAAlC;AACAsC,8BAAkBD,IAAlB,CAAuBE,UAAvB;AACD,WAHD,MAIK;AACH,iBAAKd,GAAL,4BAAkCc,WAAWvC,KAA7C;AACAuC,uBAAWE,OAAX;AACD;AACF;;AAED,aAAKxB,WAAL,GAAmBqB,iBAAnB;;AAEA,aAAKI,yBAAL;AACD;AA5OH;AAAA;AAAA,kDA8O6B;AACzB,YAAIC,sBAAsB,EAA1B;;AAEA,aAAK,IAAIvB,IAAI,CAAb,EAAgBA,IAAI,KAAKrB,oBAAL,CAA0BsB,MAA9C,EAAsDD,GAAtD,EAA2D;AACzD,cAAIE,eAAe,KAAKvB,oBAAL,CAA0BqB,CAA1B,CAAnB;AACA,cAAIwB,wBAAwBtB,aAAarB,gBAAzC;;AAEA;AACA,cAAI,CAAC7B,EAAEoD,cAAF,CAAiBoB,qBAAjB,CAAL,EAA8C;AAAE;AAAU;;AAE1D;AACA,cAAI,CAAC,KAAKC,kCAAL,CAAwCD,qBAAxC,CAAL,EAAqE;AACnE,iBAAKnB,GAAL,0CAAgDH,aAAatB,KAA7D;AACA2C,gCAAoBN,IAApB,CAAyBf,YAAzB;AACD;AACF;;AAED;AACA,aAAK,IAAIF,IAAI,CAAb,EAAgBA,IAAIuB,oBAAoBtB,MAAxC,EAAgDD,GAAhD,EAAqD;AACnD,eAAKM,oBAAL,CAA0BiB,oBAAoBvB,CAApB,CAA1B;AACD;AACF;;AAED;;AArQF;AAAA;AAAA,yDAsQqCwB,qBAtQrC,EAsQ2D;AACvD,aAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAI,KAAK7B,WAAL,CAAiBI,MAArC,EAA6CyB,GAA7C,EAAkD;AAChD,cAAIC,mBAAmB,KAAK9B,WAAL,CAAiB6B,CAAjB,CAAvB;;AAEA,cAAIC,iBAAiB9C,gBAAjB,IAAqC2C,qBAAzC,EAAgE;AAC9D,mBAAO,IAAP;AACD;AACF;;AAED,eAAO,KAAP;AACD;AAhRH;AAAA;AAAA,sCAkRkBI,SAlRlB,EAkR4B;AACxB;AACA,YAAIC,mCAAmC,IAAvC;;AAEA,aAAK,IAAI7B,IAAI,CAAb,EAAgBA,IAAI4B,UAAU3B,MAA9B,EAAsCD,GAAtC,EAA2C;AACzC,cAAI,CAAC4B,UAAU5B,CAAV,EAAa8B,MAAb,CAAoBC,SAApB,CAA8BC,QAA9B,CAAuC,SAAvC,CAAL,EAAwD;AACtDH,+CAAmC,KAAnC;AACA;AACD;AACF;;AAED,YAAIA,gCAAJ,EAAsC;AACpC;AACA;AACD;;AAED,YAAI,KAAKI,gBAAT,EAA2B;AACzBC,uBAAa,KAAKD,gBAAlB;AACD;;AAED,aAAKA,gBAAL,GAAwBE,WAAW,KAAKC,yBAAL,CAA+BC,IAA/B,CAAoC,IAApC,CAAX,EAAsD,GAAtD,CAAxB;AACD;AAvSH;AAAA;AAAA,yCAySoB;AAChB,YAAIpF,EAAEqF,gBAAN,EAAwB;AACtB;AACA,cAAIC,WAAW,IAAID,gBAAJ,CAAqB,KAAKE,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAArB,CAAf;AACAE,mBAASE,OAAT,CAAiBzF,EAAEqB,IAAnB,EAAyB,EAACqE,WAAW,IAAZ,EAAkBC,SAAS,IAA3B,EAAzB;AAED,SALD,MAKO,IAAI1F,EAAE2F,gBAAN,EAAwB;AAC3B;AACF5F,YAAEqB,IAAF,CAAOuE,gBAAP,CAAwB,iBAAxB,EAA2C,KAAKJ,eAAL,CAAqBH,IAArB,CAA0B,IAA1B,CAA3C,EAA4E,KAA5E;AACD,SAHM,MAGA;AACH,cAAIpF,EAAE4F,OAAN,EAAe;AACbA,oBAAQC,IAAR,CAAa,wDAAb;AACD;AACJ;AACF;AAvTH;AAAA;AAAA,0BAyTMC,OAzTN,EAyTc;AACV,YAAI,KAAKtE,YAAL,CAAkBV,KAAlB,IAA2Bd,EAAE4F,OAAjC,EAA0C;AACxCA,kBAAQxC,GAAR,CAAY0C,OAAZ;AACD;AACF;AA7TH;;AAAA;AAAA;AA+TD,CAlUD,EAkUGxE,QAlUH,EAkUaC,MAlUb,E;;;;;;;;;;;;;ACDA,CAAC,UAASxB,CAAT,EAAYC,CAAZ,EAAe;AACdA,IAAEE,EAAF,GAAOF,EAAEE,EAAF,IAAQ,EAAf;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEAF,IAAEE,EAAF,CAAK6D,UAAL;AACE,oBAAYvC,YAAZ,EAA0B+B,gBAA1B,EAA2C;AAAA;;AACzC,WAAK/B,YAAL,GAAoBA,YAApB;AACA,WAAK+B,gBAAL,GAAwBA,gBAAxB;AACA,WAAKwC,OAAL,GAAe,EAAf;AACA,WAAKC,aAAL,GAAqB,EAArB;AACA,WAAKrE,KAAL,GAAa4B,iBAAiB5B,KAA9B;AACA,WAAKC,gBAAL,GAAwB2B,iBAAiB3B,gBAAzC;;AAEA,WAAKqE,WAAL;AACD;;AAED;;;;;AAZF;AAAA;AAAA,gCAeW;AACP,aAAK,IAAIC,iBAAT,IAA8B,KAAKH,OAAnC,EAA4C;AAC1C,eAAKA,OAAL,CAAaG,iBAAb,EAAgCC,OAAhC;AACA,eAAKJ,OAAL,CAAaG,iBAAb,EAAgC9B,OAAhC;AACD;;AAED,aAAK2B,OAAL,GAAe,IAAf;AACA,aAAKC,aAAL,GAAqB,EAArB;;AAEA,aAAKzC,gBAAL,CAAsBC,cAAtB,CAAqC4C,mBAArC,CAAyD,QAAzD,EAAmE,KAAKC,2BAAxE;AACD;;AAED;AACA;;AA5BF;AAAA;AAAA,oDA6B+B;AAC3B,YAAG,CAACtG,EAAEqB,IAAF,CAAO2D,QAAP,CAAgB,KAAKxB,gBAAL,CAAsBC,cAAtC,CAAJ,EAA0D;AACxD,eAAK8C,IAAL,CAAU,mCAAV;AACA,iBAAO,KAAP;AACD;;AAED;;AAEA,YAAMC,eAAe,CAAC,IAAD,EAAO,IAAP,CAArB;AACA,aAAK,IAAIxD,IAAI,CAAb,EAAgBA,IAAIwD,aAAavD,MAAjC,EAAyCD,GAAzC,EAA8C;AAC5C,cAAMyD,cAAcD,aAAaxD,CAAb,CAApB;;AAEA;AACA,cAAI,KAAKQ,gBAAL,CAAsBiD,WAAtB,CAAJ,EAAwC;AACtC,gBAAG,CAACzG,EAAEqB,IAAF,CAAO2D,QAAP,CAAgB,KAAKxB,gBAAL,CAAsBiD,WAAtB,EAAmClD,aAAnD,CAAJ,EAAsE;AACpE,mBAAKgD,IAAL,CAAU,kCAAV;AACA,qBAAO,KAAP;AACD;;AAED,iBAAK,IAAIG,WAAT,IAAwB,KAAKlD,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAA3D,EAAqE;AACnE,kBAAI,KAAKsB,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAAnC,CAA4CyE,cAA5C,CAA2DD,WAA3D,CAAJ,EAA6E;AAC3E,oBAAME,UAAU,KAAKpD,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAAnC,CAA4CwE,WAA5C,CAAhB;;AAEA,oBAAGE,WAAW,CAAC5G,EAAEqB,IAAF,CAAO2D,QAAP,CAAgB4B,OAAhB,CAAf,EAAwC;AACtC,uBAAKL,IAAL,cAAqBG,WAArB;AACA,yBAAO,KAAP;AACD;AACF;AACF;AACF;AACF;;AAED,eAAO,IAAP;AACD;AA9DH;AAAA;AAAA,oCAgEe;AACX,aAAKJ,2BAAL,GAAmC,KAAKO,eAAL,CAAqBxB,IAArB,CAA0B,IAA1B,CAAnC,CADW,CACwD;AACnE,aAAK7B,gBAAL,CAAsBC,cAAtB,CAAqCmC,gBAArC,CAAsD,QAAtD,EAAgE,KAAKU,2BAArE;;AAEA,YAAIQ,WAAW,IAAI7G,EAAE8G,aAAF,CAAgBC,MAApB,CAA2B,KAAKxD,gBAAL,CAAsBxB,EAAtB,CAAyBuB,aAApD,EAAmE,KAAK9B,YAAL,CAAkBnB,KAArF,EAA4F,IAA5F,EAAkG,KAAKmB,YAAL,CAAkBb,eAApH,CAAf;AACAkG,iBAASG,EAAT,CAAY,eAAZ,EAA6B,KAAKC,kBAAL,CAAwB7B,IAAxB,CAA6B,IAA7B,CAA7B;AACA,aAAKW,OAAL,CAAa,IAAb,IAAqBc,QAArB;;AAEA,YAAIK,WAAW,IAAIlH,EAAE8G,aAAF,CAAgBC,MAApB,CAA2B,KAAKxD,gBAAL,CAAsBf,EAAtB,CAAyBc,aAApD,EAAmE,KAAK9B,YAAL,CAAkBd,KAArF,EAA4F,IAA5F,EAAkG,KAAKc,YAAL,CAAkBX,eAApH,CAAf;AACAqG,iBAASF,EAAT,CAAY,eAAZ,EAA6B,KAAKG,kBAAL,CAAwB/B,IAAxB,CAA6B,IAA7B,CAA7B;AACA,aAAKW,OAAL,CAAa,IAAb,IAAqBmB,QAArB;;AAEA,aAAKnB,OAAL,CAAa,MAAb,IAAuB;AACrBqB,kBAAQ,kBAAU,CAAE,CADC;AAErBjB,mBAAS,mBAAU,CAAE,CAFA;AAGrB/B,mBAAS,mBAAU,CAAE;AAHA,SAAvB;;AAMA,aAAKwC,eAAL,CAAqB,IAArB,EAA2B,IAA3B;AACD;AAnFH;AAAA;AAAA,sCAqFkBS,KArFlB,EAqFyBC,cArFzB,EAqFwC;AACpC,gBAAQ,KAAK/D,gBAAL,CAAsBC,cAAtB,CAAqC+D,KAA7C;AACE,eAAK,KAAKhE,gBAAL,CAAsBxB,EAAtB,CAAyBC,YAA9B;AACE,iBAAKwF,iBAAL,CAAuB,IAAvB;;AAEA,gBAAG,CAACF,cAAJ,EAAmB;AACjB,mBAAKG,mBAAL,CAAyB,IAAzB;AACD;;AAED;AACF,eAAK,KAAKlE,gBAAL,CAAsBf,EAAtB,CAAyBR,YAA9B;AACE,iBAAKwF,iBAAL,CAAuB,IAAvB;;AAEA,gBAAG,CAACF,cAAJ,EAAmB;AACjB,mBAAKG,mBAAL,CAAyB,IAAzB;AACD;;AAED;AACF;AACE,iBAAKD,iBAAL,CAAuB,MAAvB;;AAEA,gBAAG,CAACF,cAAJ,EAAmB;AACjB,mBAAKG,mBAAL,CAAyB,IAAzB;AACA,mBAAKA,mBAAL,CAAyB,IAAzB;AACD;AAvBL;AAyBD;AA/GH;AAAA;AAAA,0CAiHsBjB,WAjHtB,EAiHkC;AAC9B,aAAK,IAAIC,WAAT,IAAwB,KAAKlD,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAA3D,EAAqE;AACnE,cAAI,KAAKsB,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAAnC,CAA4CyE,cAA5C,CAA2DD,WAA3D,CAAJ,EAA6E;AAC3E,gBAAME,UAAU,KAAKpD,gBAAL,CAAsBiD,WAAtB,EAAmCvE,QAAnC,CAA4CwE,WAA5C,CAAhB;;AAEA,gBAAGE,OAAH,EAAW;AACT,mBAAKe,gBAAL,CAAsBf,OAAtB,EAA+B,IAA/B,EAAqCF,WAArC;AACD;AACF;AACF;AACF;AA3HH;AAAA;AAAA,wCA6HoBD,WA7HpB,EA6HgC;AAC5B,aAAKF,IAAL,6BAAoCE,WAApC;;AAEA,aAAK,IAAIN,iBAAT,IAA8B,KAAKH,OAAnC,EAA4C;AAC1C,eAAKA,OAAL,CAAaG,iBAAb,EAAgCC,OAAhC;AACD;;AAED,aAAKJ,OAAL,CAAaS,WAAb,EAA0BY,MAA1B;AACD;AArIH;AAAA;AAAA,yCAuIqBO,WAvIrB,EAuIkCC,QAvIlC,EAuI2C;AACvC,YAAI3F,WAAW,KAAKsB,gBAAL,CAAsBxB,EAAtB,CAAyBE,QAAxC;AACA,YAAI4F,WAAW,IAAIf,cAAcgB,iBAAlB,CAAoCH,WAApC,EAAiDC,QAAjD,CAAf;;AAEA,YAAG3F,SAASwB,oBAAZ,EAAiC;AAC/B,eAAKiE,gBAAL,CAAsBzF,SAASwB,oBAA/B,EAAqDoE,SAASpE,oBAAT,EAArD,EAAsF,sBAAtF;AACD,SAFD,MAGK;AACH,eAAKiE,gBAAL,CAAsBzF,SAASyB,cAA/B,EAA+CmE,SAASnE,cAAT,EAA/C,EAA0E,gBAA1E;AACA,eAAKgE,gBAAL,CAAsBzF,SAAS0B,cAA/B,EAA+CkE,SAASlE,cAAT,EAA/C,EAA0E,gBAA1E;AACD;;AAED,aAAK+D,gBAAL,CAAsBzF,SAASE,MAA/B,EAAuC0F,SAAS1F,MAAT,EAAvC,EAA0D,QAA1D;AACA,aAAKuF,gBAAL,CAAsBzF,SAASG,IAA/B,EAAqCyF,SAASzF,IAAT,EAArC,EAAsD,MAAtD;AACA,aAAKsF,gBAAL,CAAsBzF,SAASK,QAA/B,EAAyCuF,SAASvF,QAAT,EAAzC,EAA8D,UAA9D;;AAEA,YAAI,KAAKiB,gBAAL,CAAsBxB,EAAtB,CAAyBQ,cAA7B,EAA6C;AAC3C,cAAMwF,wBAAwB,KAAKxE,gBAAL,CAAsBxB,EAAtB,CAAyBQ,cAAzB,CAAwCqF,SAASvF,MAAjD,CAA9B;AACA,eAAKqF,gBAAL,CAAsBzF,SAASI,MAA/B,EAAuC0F,qBAAvC,EAA8D,QAA9D;AACD,SAHD,MAIK;AACH,eAAKL,gBAAL,CAAsBzF,SAASI,MAA/B,EAAuCuF,SAASvF,MAAhD,EAAwD,QAAxD;AACD;AACF;AA9JH;AAAA;AAAA,yCAgKqBsF,WAhKrB,EAgKkCC,QAhKlC,EAgK2C;AACvC,YAAI3F,WAAW,KAAKsB,gBAAL,CAAsBf,EAAtB,CAAyBP,QAAxC;;AAEA,YAAGA,SAASwB,oBAAZ,EAAiC;AAC/B,cAAMuE,WAAW,CACfJ,SAASlE,cADM,EACUkE,SAASjE,cADnB,EAEfsE,MAFe,CAER,UAASC,CAAT,EAAW;AAAC,mBAAOA,KAAK,IAAZ;AAAiB,WAFrB,EAEuBC,IAFvB,CAE4B,IAF5B,CAAjB;;AAIA,eAAKT,gBAAL,CAAsBzF,SAASwB,oBAA/B,EAAqDuE,QAArD,EAA+D,sBAA/D;AACD,SAND,MAOK;AACH,eAAKN,gBAAL,CAAsBzF,SAASyB,cAA/B,EAA+CkE,SAASlE,cAAxD,EAAwE,gBAAxE;AACA,eAAKgE,gBAAL,CAAsBzF,SAAS0B,cAA/B,EAA+CiE,SAASjE,cAAxD,EAAwE,gBAAxE;AACD;;AAED,aAAK+D,gBAAL,CAAsBzF,SAAS2B,aAA/B,EAA8CgE,SAAShE,aAAvD,EAAsE,QAAtE;AACA,aAAK8D,gBAAL,CAAsBzF,SAASK,QAA/B,EAAyCsF,SAAStF,QAAlD,EAA4D,UAA5D;;AAEA,YAAI,KAAKiB,gBAAL,CAAsBf,EAAtB,CAAyBG,aAA7B,EAA4C;AAC1C,cAAMyF,uBAAuB,KAAK7E,gBAAL,CAAsBf,EAAtB,CAAyBG,aAAzB,CAAuCiF,SAAS/D,eAAhD,CAA7B;AACA,eAAK6D,gBAAL,CAAsBzF,SAAS4B,eAA/B,EAAgDuE,oBAAhD,EAAsE,iBAAtE;AACD,SAHD,MAIK;AACH,eAAKV,gBAAL,CAAsBzF,SAAS4B,eAA/B,EAAgD+D,SAAS/D,eAAzD,EAA0E,iBAA1E;AACD;AACF;AAzLH;AAAA;AAAA,uCA2LmB8C,OA3LnB,EA2L4BY,KA3L5B,EA2LmCd,WA3LnC,EA2L+C;AAC3C,YAAIE,OAAJ,EAAa;AACXA,kBAAQY,KAAR,GAAgBA,KAAhB;;AAEA,cAAIF,QAAQ/F,SAAS+G,WAAT,CAAqB,YAArB,CAAZ;AACAhB,gBAAMiB,SAAN,CAAgB,QAAhB,EAA0B,IAA1B,EAAgC,KAAhC;AACA3B,kBAAQ4B,aAAR,CAAsBlB,KAAtB;;AAEA,cAAImB,UAAU7B,QAAQ6B,OAAtB;AACA,cAAIA,OAAJ,EAAa;AACX,iBAAK,IAAIzF,IAAI,CAAb,EAAgBA,IAAIyF,QAAQxF,MAA5B,EAAoCD,GAApC,EAAyC;AACvC,kBAAI4D,QAAQ6B,OAAR,CAAgBzF,CAAhB,EAAmBwE,KAAnB,IAA4BA,KAAhC,EAAuC;AACrCZ,wBAAQ6B,OAAR,CAAgBzF,CAAhB,EAAmBwF,aAAnB,CAAiClB,KAAjC;AACA;AACD;AACF;AACF;;AAED;AACD;;AAED,YAAIoB,eAAe,0BACE,kEADF,GAEE,aAFF,GAEkBhC,WAFlB,GAGE,WAHF,GAGgBc,KAHnC;;AAKA,YAAIvH,EAAE4F,OAAN,EAAe;AACbA,kBAAQ8C,IAAR,CAAaD,YAAb;AACD;AACF;AAxNH;AAAA;AAAA,2BA0NO3C,OA1NP,EA0Ne;AACX,YAAI,KAAKtE,YAAL,CAAkBV,KAAlB,IAA2Bd,EAAE4F,OAAjC,EAA0C;AACxCA,kBAAQxC,GAAR,4BAAqC,KAAKG,gBAAL,CAAsB5B,KAA3D,UAAqEmE,OAArE;AACD;AACF;AA9NH;;AAAA;AAAA;AAgOD,CAxSD,EAwSGxE,QAxSH,EAwSaC,MAxSb,E","file":"bigcommerce-v1-boot.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a13bdb0c1ffa66ebe76b","!function(){\"use strict\";function t(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function o(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function r(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function i(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function s(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=void 0;try{u=self}catch(t){try{u=global}catch(t){u=window}}var c=function(){function e(o,r){t(this,e),this.cursor=0,this.collection=o,this.kind=r}return e.prototype.next=function(){this.done=this.cursor===this.collection.length;var t={done:this.done,value:this.done?void 0:\"value\"===this.kind||\"key\"===this.kind?this.collection[this.cursor]:[this.cursor,this.collection[this.cursor]]};return this.cursor++,t},e}(),a=function(t){function n(r,i){e(this,n);var s=o(this,t.call(this,r,i));return s}return r(n,t),n.prototype.toString=function(){return\"[object String Iterator]\"},n}(c),p=function(t){function e(o,r){n(this,e);var s=i(this,t.call(this,o,r));return s}return s(e,t),e.prototype.toString=function(){return\"[object Array Iterator]\"},e}(c);if(\"function\"!=typeof Array.prototype[Symbol.iterator]){var y=\"values\"in Array.prototype,f=\"entries\"in Array.prototype,l=\"keys\"in Array.prototype;y||(Array.prototype.values=function(){return new p(this,\"value\")}),f||(Array.prototype.entries=function(){return new p(this,\"key+value\")}),l||(Array.prototype.keys=function(){return new p(this,\"key\")}),Array.prototype[Symbol.iterator]=Array.prototype.values}if(\"function\"!=typeof String.prototype[Symbol.iterator]&&(String.prototype[Symbol.iterator]=function(){return new a(this,\"value\")}),\"function\"!=typeof NodeList.prototype[Symbol.iterator]){var h=\"values\"in NodeList.prototype,b=\"entries\"in NodeList.prototype,w=\"keys\"in NodeList.prototype;h||(NodeList.prototype.values=function(){return new p(this,\"value\")}),b||(NodeList.prototype.entries=function(){return new p(this,\"key+value\")}),w||(NodeList.prototype.keys=function(){return new p(this,\"key\")}),NodeList.prototype[Symbol.iterator]=Array.prototype.values}}();\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/iterators-polyfill/polyfill.min.js\n// module id = 1\n// module chunks = 0","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1,eval)(\"this\");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === \"object\")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/global.js\n// module id = 2\n// module chunks = 0","// // this is done within\n// window.AddressFinderConfig = {\n//   key: \"ADDRESSFINDER_NZ_DEMO_KEY\"\n// }\nrequire('./bigcommerce_plugin.es6');\n\n(function(d, w) {\n  let _initPlugin = function(){\n    w.AF = w.AF || {}\n    w.AF._plugin = new AF.BigCommercePlugin({\n      nzKey: w.AddressFinderConfig.key_nz || w.AddressFinderConfig.key || w.AddressFinderConfig.key_au,\n      auKey: w.AddressFinderConfig.key_au || w.AddressFinderConfig.key || w.AddressFinderConfig.key_nz,\n      nzWidgetOptions: w.AddressFinderConfig.nzWidgetOptions || w.AddressFinderConfig.widgetOptions || {},\n      auWidgetOptions: w.AddressFinderConfig.auWidgetOptions || w.AddressFinderConfig.widgetOptions || {},\n      debug: w.AddressFinderConfig.debug || true\n    })\n  }\n\n  let s = d.createElement('script')\n  s.src = 'https://api.addressfinder.io/assets/v3/widget.js'\n  s.async = 1\n  s.onload = _initPlugin\n  d.body.appendChild(s)\n})(document, window)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.es6","require('./form_helper.es6');\n(function(d, w) {\n  w.AF = w.AF || {}\n\n  w.AF.BigCommercePlugin = class {\n    constructor(widgetConfig){\n      this.version = \"1.1.12\"\n      this.widgetConfig = widgetConfig\n      this.layoutConfigurations = [\n        {\n          label: \"Optimized one-page checkout (Early access)\",\n          layoutIdentifier: \"micro-app-ng-checkout\",\n          countryIdentifier: 'countryCodeInput',\n          searchIdentifier: \"addressLine1Input\",\n          nz: {\n            countryValue: \"string:NZ\",\n            elements: {\n              address1: 'addressLine1Input',\n              suburb: 'addressLine2Input',\n              city: 'cityInput',\n              region: 'provinceInput',\n              postcode: 'postCodeInput'\n            },\n            regionMappings: null\n          },\n          au: {\n            countryValue: \"string:AU\",\n            elements: {\n              address1: 'addressLine1Input',\n              address2: 'addressLine2Input',\n              suburb: 'cityInput',\n              state: 'provinceCodeInput',\n              postcode: 'postCodeInput'\n            },\n            stateMappings: {\n              'ACT': 'string:ACT',\n              'NSW': 'string:NSW',\n              'NT' : 'string:NT',\n              'QLD': 'string:QLD',\n              'SA' : 'string:SA',\n              'TAS': 'string:TAS',\n              'VIC': 'string:VIC',\n              'WA' : 'string:WA'\n            }\n          }\n        },\n        {\n          label: \"One-page checkout (Billing details)\",\n          layoutIdentifier: \"CheckoutStepBillingAddress\",\n          countryIdentifier: 'FormField_11',\n          searchIdentifier: \"FormField_8\",\n          nz: {\n            countryValue: \"New Zealand\",\n            elements: {\n              address1: 'FormField_8',\n              suburb: 'FormField_9',\n              city: 'FormField_10',\n              region: 'FormField_12',\n              postcode: 'FormField_13',\n            },\n            regionMappings: null\n          },\n          au: {\n            countryValue: \"Australia\",\n            elements: {\n              address1: 'FormField_8',\n              address2: 'FormField_9',\n              suburb: 'FormField_10',\n              state: 'FormField_12',\n              postcode: 'FormField_13',\n            },\n            stateMappings: {\n              'ACT': 'Australian Capital Territory',\n              'NSW': 'New South Wales',\n              'NT' : 'Northern Territory',\n              'QLD': 'Queensland',\n              'SA' : 'South Australia',\n              'TAS': 'Tasmania',\n              'VIC': 'Victoria',\n              'WA' : 'Western Australia'\n            }\n          }\n        },\n        {\n          label: \"One-page checkout (Shipping details)\",\n          layoutIdentifier: \"CheckoutStepShippingAddress\",\n          countryIdentifier: \"FormField_21\",\n          searchIdentifier: \"FormField_18\",\n          nz: {\n            countryValue: \"New Zealand\",\n            elements: {\n              address1: 'FormField_18',\n              suburb: 'FormField_19',\n              city: 'FormField_20',\n              region: 'FormField_22',\n              postcode: 'FormField_23'\n            },\n            regionMappings: null\n          },\n          au: {\n            countryValue: \"Australia\",\n            elements: {\n              address1: 'FormField_18',\n              address2: 'FormField_19',\n              suburb: 'FormField_20',\n              state: 'FormField_22',\n              postcode: 'FormField_23'\n            },\n            stateMappings: {\n              'ACT': 'Australian Capital Territory',\n              'NSW': 'New South Wales',\n              'NT' : 'Northern Territory',\n              'QLD': 'Queensland',\n              'SA' : 'South Australia',\n              'TAS': 'Tasmania',\n              'VIC': 'Victoria',\n              'WA' : 'Western Australia'\n            }\n          }\n        },\n        {\n          label: \"Create account\",\n          layoutIdentifier: \"CreateAccountForm\",\n          countryIdentifier: 'FormField_11',\n          searchIdentifier: \"FormField_8\",\n          nz: {\n            countryValue: \"New Zealand\",\n            elements: {\n              address1: 'FormField_8',\n              suburb: 'FormField_9',\n              city: 'FormField_10',\n              region: 'FormField_12',\n              postcode: 'FormField_13',\n            },\n            regionMappings: null\n          },\n          au: {\n            countryValue: \"Australia\",\n            elements: {\n              address1: 'FormField_8',\n              address2: 'FormField_9',\n              suburb: 'FormField_10',\n              state: 'FormField_12',\n              postcode: 'FormField_13',\n            },\n            stateMappings: {\n              'ACT': 'Australian Capital Territory',\n              'NSW': 'New South Wales',\n              'NT' : 'Northern Territory',\n              'QLD': 'Queensland',\n              'SA' : 'South Australia',\n              'TAS': 'Tasmania',\n              'VIC': 'Victoria',\n              'WA' : 'Western Australia'\n            }\n          }\n        },\n\n      ]\n      this.formHelpers = []\n\n      this.identifyLayout()\n      this.monitorMutations()\n    }\n\n    identifyLayout(){\n      for (var i = 0; i < this.layoutConfigurations.length; i++) {\n        let layoutConfig = this.layoutConfigurations[i]\n        let identifyingElement = d.getElementById(layoutConfig.layoutIdentifier)\n\n        if (identifyingElement) {\n          this.log(`Identified layout named: ${layoutConfig.label}`)\n          this.initialiseFormHelper(layoutConfig)\n        }\n      }\n    }\n\n    initialiseFormHelper(layoutConfig){\n      let searchElement = d.getElementById(layoutConfig.searchIdentifier)\n\n      if (searchElement) {\n        let formHelperConfig = {\n          countryElement: d.getElementById(layoutConfig.countryIdentifier),\n          label: layoutConfig.label,\n          layoutIdentifier: layoutConfig.layoutIdentifier,\n          nz: {\n            countryValue: layoutConfig.nz.countryValue,\n            searchElement: d.getElementById(layoutConfig.nz.elements.address1),\n            elements: {\n              address_line_1_and_2: d.getElementById(layoutConfig.nz.elements.address1),\n              address_line_1: null,\n              address_line_2: null,\n              suburb: d.getElementById(layoutConfig.nz.elements.suburb),\n              city: d.getElementById(layoutConfig.nz.elements.city),\n              region: d.getElementById(layoutConfig.nz.elements.region),\n              postcode: d.getElementById(layoutConfig.nz.elements.postcode)\n            },\n            regionMappings: null\n          },\n          au: {\n            countryValue: layoutConfig.au.countryValue,\n            searchElement: d.getElementById(layoutConfig.au.elements.address1),\n            elements: {\n              address_line_1_and_2: null,\n              address_line_1: d.getElementById(layoutConfig.au.elements.address1),\n              address_line_2: d.getElementById(layoutConfig.au.elements.address2),\n              locality_name: d.getElementById(layoutConfig.au.elements.suburb),\n              city: null,\n              state_territory: d.getElementById(layoutConfig.au.elements.state),\n              postcode: d.getElementById(layoutConfig.au.elements.postcode)\n            },\n            stateMappings: layoutConfig.au.stateMappings\n          }\n        }\n\n        let helper = new AF.FormHelper(this.widgetConfig, formHelperConfig)\n        this.formHelpers.push(helper)\n      }\n    }\n\n    resetAndReloadFormHelpers(){\n      let activeFormHelpers = []\n\n      for (var i = 0; i < this.formHelpers.length; i++) {\n        const formHelper = this.formHelpers[i]\n\n        // check that the formHelper is still intact\n        if (formHelper.areAllElementsStillInTheDOM()) {\n          this.log(`formHelper ${formHelper.label} is still active`)\n          activeFormHelpers.push(formHelper)\n        }\n        else {\n          this.log(`Destroying formHelper ${formHelper.label}`)\n          formHelper.destroy()\n        }\n      }\n\n      this.formHelpers = activeFormHelpers\n\n      this.identifyAdditionalLayouts()\n    }\n\n    identifyAdditionalLayouts(){\n      let layoutsToInitialise = []\n\n      for (var i = 0; i < this.layoutConfigurations.length; i++) {\n        let layoutConfig = this.layoutConfigurations[i]\n        let identifierToSearchFor = layoutConfig.layoutIdentifier\n\n        // skip if we can't find that element\n        if (!d.getElementById(identifierToSearchFor)) { continue }\n\n        // Only initialise if the formHelper is new\n        if (!this.anyFormHelpersWithLayoutIdentifier(identifierToSearchFor)) {\n          this.log(`Identified additional layout named: ${layoutConfig.label}`)\n          layoutsToInitialise.push(layoutConfig)\n        }\n      }\n\n      // initialise all the new formHelpers\n      for (var i = 0; i < layoutsToInitialise.length; i++) {\n        this.initialiseFormHelper(layoutsToInitialise[i])\n      }\n    }\n\n    // search active formHelpers for this layoutIdentifier\n    anyFormHelpersWithLayoutIdentifier(identifierToSearchFor){\n      for (var j = 0; j < this.formHelpers.length; j++) {\n        let activeFormHelper = this.formHelpers[j]\n\n        if (activeFormHelper.layoutIdentifier == identifierToSearchFor) {\n          return true\n        }\n      }\n\n      return false\n    }\n\n    mutationHandler(mutations){\n      // if all the mutations are \"af_list\" then do nothing extra\n      let allMutationsAreFromAddressFinder = true\n\n      for (var i = 0; i < mutations.length; i++) {\n        if (!mutations[i].target.classList.contains(\"af_list\")) {\n          allMutationsAreFromAddressFinder = false\n          break\n        }\n      }\n\n      if (allMutationsAreFromAddressFinder) {\n        // no need to continue, as they are all from us\n        return\n      }\n\n      if (this._mutationTimeout) {\n        clearTimeout(this._mutationTimeout)\n      }\n\n      this._mutationTimeout = setTimeout(this.resetAndReloadFormHelpers.bind(this), 750)\n    }\n\n    monitorMutations(){\n      if (w.MutationObserver) {\n        /* for modern browsers */\n        var observer = new MutationObserver(this.mutationHandler.bind(this));\n        observer.observe(d.body, {childList: true, subtree: true});\n\n      } else if (w.addEventListener) {\n          /* for IE 9 and 10 */\n        d.body.addEventListener('DOMAttrModified', this.mutationHandler.bind(this), false);\n      } else {\n          if (w.console) {\n            console.info('AddressFinder Error - please use a more modern browser')\n          }\n      }\n    }\n\n    log(message){\n      if (this.widgetConfig.debug && w.console) {\n        console.log(message)\n      }\n    }\n  }\n})(document, window);\n\n\n\n// WEBPACK FOOTER //\n// ./src/bigcommerce_plugin.es6","(function(d, w) {\n  w.AF = w.AF || {}\n\n  /**\n   * Usage:\n   *\n   * new FormHelper({\n   *   nzKey: \"AAABBB111222\",\n   *   auKey: \"XXXYYY888999\",\n   *   nzWidgetOptions: {\n   *     byline: false\n   *   },\n   *   auWidgetOptions: {},\n   *   debug: false\n   * }, {\n   *   countryElement: document.getElementById(\"country\"),\n   *   nz: {\n   *     countryValue: \"NZ\",\n   *     searchElement: document.getElementById('FormField_18'),\n   *     regionMappings: {\n   *       \"Auckland Region\": \"Auckland Region\",\n   *       \"Bay Of Plenty Region\": \"Bay of Plenty\",\n   *       \"Canterbury Region\": \"Canterbury\",\n   *       \"Gisborne Region\": \"Gisborne Region\",\n   *       \"Hawke's Bay Region\": \"Hawke's Bay\",\n   *       \"Manawatu-Wanganui Region\": \"Manawatu-Wanganui Region\",\n   *       \"Marlborough Region\": \"Marlborough\",\n   *       \"Nelson Region\": \"Nelson Region\",\n   *       \"Northland Region\": \"Northland\",\n   *       \"Otago Region\": \"Otago\",\n   *       \"Southland Region\": \"Southland\",\n   *       \"Taranaki Region\": \"Taranaki\",\n   *       \"Tasman Region\": \"Tasman\",\n   *       \"Waikato Region\": \"Waikato\",\n   *       \"Wellington Region\": \"Wellington Region\",\n   *       \"West Coast Region\": \"West Coast\",\n   *       \"No Region\": \"Chatham Islands\"\n   *     },\n   *     elements: {\n   *       address_line_1_and_2: document.getElementById('FormField_18'),\n   *       address_line_1: null,\n   *       address_line_2: null,\n   *       suburb: document.getElementById('FormField_19'),\n   *       city: document.getElementById('FormField_20'),\n   *       region: document.getElementById('FormField_22'),\n   *       postcode: document.getElementById('FormField_23')\n   *     }\n   *   },\n   *   au: {\n   *     countryValue: \"AU\",\n   *     searchElement: document.getElementById('FormField_18'),\n   *     stateMappings: {\n   *       ACT: \"Australian Capital Territory\",\n   *       NSW: \"New South Wales\",\n   *       NT: \"Northern Territory\",\n   *       QLD: \"Queensland\",\n   *       SA: \"South Australia\",\n   *       TAS: \"Tasmania\",\n   *       VIC: \"Victoria\",\n   *       WA: \"Western Australia\"\n   *     },\n   *     elements: {\n   *       address_line_1_and_2: null,\n   *       address_line_1: document.getElementById('FormField_18'),\n   *       address_line_2: document.getElementById('FormField_19'),\n   *       locality_name: document.getElementById('FormField_20'),\n   *       state_territory: document.getElementById('FormField_22'),\n   *       postcode: document.getElementById('FormField_23')\n   *     }\n   *   }\n   * });\n   */\n  w.AF.FormHelper = class {\n    constructor(widgetConfig, formHelperConfig){\n      this.widgetConfig = widgetConfig\n      this.formHelperConfig = formHelperConfig\n      this.widgets = {}\n      this.subscriptions = {}\n      this.label = formHelperConfig.label\n      this.layoutIdentifier = formHelperConfig.layoutIdentifier\n\n      this._bindToForm()\n    }\n\n    /**\n     * Shuts down this form_helper by disabling the widget and any callback handlers.\n     */\n    destroy(){\n      for (var widgetCountryCode in this.widgets) {\n        this.widgets[widgetCountryCode].disable()\n        this.widgets[widgetCountryCode].destroy()\n      }\n\n      this.widgets = null\n      this.subscriptions = []\n\n      this.formHelperConfig.countryElement.removeEventListener(\"change\", this.boundCountryChangedListener)\n    }\n\n    // check all of the elements in the formHelper and confirm they are still\n    // within the page DOM\n    areAllElementsStillInTheDOM(){\n      if(!d.body.contains(this.formHelperConfig.countryElement)){\n        this._log(\"Country Element is not in the DOM\")\n        return false\n      }\n\n      // TODO can we aggregate the elements to check into a single array or map?\n\n      const countryCodes = ['nz', 'au']\n      for (var i = 0; i < countryCodes.length; i++) {\n        const countryCode = countryCodes[i]\n\n        // check that the config for this country is supplied\n        if (this.formHelperConfig[countryCode]) {\n          if(!d.body.contains(this.formHelperConfig[countryCode].searchElement)){\n            this._log(\"Search Element is not in the DOM\")\n            return false\n          }\n\n          for (var elementName in this.formHelperConfig[countryCode].elements) {\n            if (this.formHelperConfig[countryCode].elements.hasOwnProperty(elementName)) {\n              const element = this.formHelperConfig[countryCode].elements[elementName];\n\n              if(element && !d.body.contains(element)){\n                this._log(`Element ${elementName} is not in the DOM`)\n                return false\n              }\n            }\n          }\n        }\n      }\n\n      return true\n    }\n\n    _bindToForm(){\n      this.boundCountryChangedListener = this._countryChanged.bind(this) // save this so we can unbind in the destroy() method\n      this.formHelperConfig.countryElement.addEventListener(\"change\", this.boundCountryChangedListener);\n\n      let nzWidget = new w.AddressFinder.Widget(this.formHelperConfig.nz.searchElement, this.widgetConfig.nzKey, \"nz\", this.widgetConfig.nzWidgetOptions);\n      nzWidget.on(\"result:select\", this._nzAddressSelected.bind(this))\n      this.widgets[\"nz\"] = nzWidget\n\n      let auWidget = new w.AddressFinder.Widget(this.formHelperConfig.au.searchElement, this.widgetConfig.auKey, \"au\", this.widgetConfig.auWidgetOptions);\n      auWidget.on(\"result:select\", this._auAddressSelected.bind(this))\n      this.widgets[\"au\"] = auWidget\n\n      this.widgets[\"null\"] = {\n        enable: function(){},\n        disable: function(){},\n        destroy: function(){}\n      }\n\n      this._countryChanged(null, true)\n    }\n\n    _countryChanged(event, preserveValues){\n      switch (this.formHelperConfig.countryElement.value) {\n        case this.formHelperConfig.nz.countryValue:\n          this._setActiveCountry(\"nz\")\n\n          if(!preserveValues){\n            this._clearElementValues(\"au\")\n          }\n\n          break\n        case this.formHelperConfig.au.countryValue:\n          this._setActiveCountry(\"au\")\n\n          if(!preserveValues){\n            this._clearElementValues(\"nz\")\n          }\n\n          break\n        default:\n          this._setActiveCountry(\"null\")\n\n          if(!preserveValues){\n            this._clearElementValues(\"au\")\n            this._clearElementValues(\"nz\")\n          }\n      }\n    }\n\n    _clearElementValues(countryCode){\n      for (var elementName in this.formHelperConfig[countryCode].elements) {\n        if (this.formHelperConfig[countryCode].elements.hasOwnProperty(elementName)) {\n          const element = this.formHelperConfig[countryCode].elements[elementName];\n\n          if(element){\n            this._setElementValue(element, null, elementName);\n          }\n        }\n      }\n    }\n\n    _setActiveCountry(countryCode){\n      this._log(`Setting active country ${countryCode}`)\n\n      for (var widgetCountryCode in this.widgets) {\n        this.widgets[widgetCountryCode].disable()\n      }\n\n      this.widgets[countryCode].enable()\n    }\n\n    _nzAddressSelected(fullAddress, metaData){\n      let elements = this.formHelperConfig.nz.elements\n      let selected = new AddressFinder.NZSelectedAddress(fullAddress, metaData);\n\n      if(elements.address_line_1_and_2){\n        this._setElementValue(elements.address_line_1_and_2, selected.address_line_1_and_2(), \"address_line_1_and_2\")\n      }\n      else {\n        this._setElementValue(elements.address_line_1, selected.address_line_1(), \"address_line_1\")\n        this._setElementValue(elements.address_line_2, selected.address_line_2(), \"address_line_2\")\n      }\n\n      this._setElementValue(elements.suburb, selected.suburb(), \"suburb\")\n      this._setElementValue(elements.city, selected.city(), \"city\")\n      this._setElementValue(elements.postcode, selected.postcode(), \"postcode\")\n\n      if (this.formHelperConfig.nz.regionMappings) {\n        const translatedRegionValue = this.formHelperConfig.nz.regionMappings[metaData.region]\n        this._setElementValue(elements.region, translatedRegionValue, \"region\")\n      }\n      else {\n        this._setElementValue(elements.region, metaData.region, \"region\")\n      }\n    }\n\n    _auAddressSelected(fullAddress, metaData){\n      let elements = this.formHelperConfig.au.elements\n\n      if(elements.address_line_1_and_2){\n        const combined = [\n          metaData.address_line_1, metaData.address_line_2\n        ].filter(function(a){return a != null}).join(\", \")\n\n        this._setElementValue(elements.address_line_1_and_2, combined, \"address_line_1_and_2\")\n      }\n      else {\n        this._setElementValue(elements.address_line_1, metaData.address_line_1, \"address_line_1\")\n        this._setElementValue(elements.address_line_2, metaData.address_line_2, \"address_line_2\")\n      }\n\n      this._setElementValue(elements.locality_name, metaData.locality_name, \"suburb\")\n      this._setElementValue(elements.postcode, metaData.postcode, \"postcode\")\n\n      if (this.formHelperConfig.au.stateMappings) {\n        const translatedStateValue = this.formHelperConfig.au.stateMappings[metaData.state_territory]\n        this._setElementValue(elements.state_territory, translatedStateValue, \"state_territory\")\n      }\n      else {\n        this._setElementValue(elements.state_territory, metaData.state_territory, \"state_territory\")\n      }\n    }\n\n    _setElementValue(element, value, elementName){\n      if (element) {\n        element.value = value;\n\n        var event = document.createEvent('HTMLEvents');\n        event.initEvent('change', true, false);\n        element.dispatchEvent(event);\n\n        var options = element.options;\n        if (options) {\n          for (var i = 0; i < options.length; i++) {\n            if (element.options[i].value == value) {\n              element.options[i].dispatchEvent(event);\n              break;\n            }\n          }\n        }\n\n        return;\n      }\n\n      var errorMessage = 'AddressFinder Error: '\n                         + 'Attempted to update value for element that could not be found.\\n'\n                         + '\\nElement: ' + elementName\n                         + '\\nValue: ' + value;\n\n      if (w.console) {\n        console.warn(errorMessage);\n      }\n    }\n\n    _log(message){\n      if (this.widgetConfig.debug && w.console) {\n        console.log(`FormHelper for layout ${this.formHelperConfig.label}: ${message}`)\n      }\n    }\n  }\n})(document, window)\n\n\n\n// WEBPACK FOOTER //\n// ./src/form_helper.es6"],"sourceRoot":""}